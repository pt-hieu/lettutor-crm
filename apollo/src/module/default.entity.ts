import { Section } from 'src/module-section/module-section.entity'

import { CoLumn, FieldType, Module, RelateType } from './module.entity'

export enum LeadStatus {
  NONE = 'None',
  ATTEMPTED_TO_CONTACT = 'Attempted To Contact',
  CONTACT_IN_FUTURE = 'Contact In Future',
  CONTACTED = 'Contacted',
  JUNK_LEAD = 'Junk Lead',
  LOST_LEAD = 'Lost Lead',
  NOT_CONTACTED = 'Not Contacted',
  PRE_QUALIFIED = 'Pre Qualified',
  NOT_QUALIFIED = 'Not Qualified',
}

export enum LeadSource {
  NONE = 'None',
  FACEBOOK = 'Facebook',
  LET_TUTOR = 'Let Tutor',
  GOOGLE = 'Google',
}

export enum AccountType {
  NONE = 'None',
  ANALYST = 'Analyst',
  COMPETITOR = 'Competitor',
  CUSTOMER = 'Customer',
  DISTRIBUTOR = 'Distributor',
  INTEGRATOR = 'Integrator',
  INVESTOR = 'Investor',
  OTHER = 'Other',
  PARTNER = 'Partner',
  PRESS = 'Press',
  PROSPECT = 'Prospect',
  RESELLER = 'Reseller',
  VENDOR = 'Vendor',
}

export enum ModuleName {
  DEAL = 'deal',
  ACCOUNT = 'account',
  CONTACT = 'contact',
  LEAD = 'lead',
}

export const deal: Pick<Module, 'name' | 'meta'> = {
  name: ModuleName.DEAL,
  meta: [
    {
      name: 'ownerId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 1,
      required: true,
      type: FieldType.RELATION,
      relateTo: 'user',
      relateType: RelateType.SINGLE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
      },
    },
    {
      name: 'accountId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 2,
      required: true,
      type: FieldType.RELATION,
      relateTo: 'account',
      relateType: RelateType.SINGLE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'contactId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 3,
      required: false,
      type: FieldType.RELATION,
      relateTo: 'contact',
      relateType: RelateType.SINGLE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'amount',
      groupId: null,
      column: CoLumn.LEFT,
      order: 4,
      required: false,
      type: FieldType.NUMBER,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'closingDate',
      groupId: null,
      column: CoLumn.LEFT,
      order: 5,
      required: true,
      type: FieldType.DATE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'stageId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 6,
      required: true,
      type: FieldType.RELATION,
      relateTo: 'dealstage',
      relateType: RelateType.SINGLE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'source',
      groupId: null,
      column: CoLumn.LEFT,
      order: 7,
      required: true,
      type: FieldType.SELECT,
      options: Object.values(LeadSource),
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'probability',
      groupId: null,
      column: CoLumn.LEFT,
      order: 8,
      required: false,
      type: FieldType.NUMBER,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'description',
      groupId: null,
      column: CoLumn.LEFT,
      order: 9,
      required: false,
      type: FieldType.MULTILINE_TEXT,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
      maxLength: 300,
      minLength: 0,
    },
    {
      name: 'tasks',
      groupId: null,
      column: CoLumn.LEFT,
      order: 10,
      required: false,
      type: FieldType.RELATION,
      relateTo: 'task',
      relateType: RelateType.MULTIPLE,
      visibility: {},
    },
  ],
}

export const account: Pick<Module, 'name' | 'meta'> = {
  name: ModuleName.ACCOUNT,
  meta: [
    {
      name: 'ownerId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 0,
      required: true,
      type: FieldType.RELATION,
      relateTo: 'user',
      relateType: RelateType.SINGLE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'phone',
      groupId: null,
      column: CoLumn.LEFT,
      order: 1,
      required: true,
      type: FieldType.PHONE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'type',
      groupId: null,
      column: CoLumn.LEFT,
      order: 2,
      required: true,
      type: FieldType.SELECT,
      options: Object.values(AccountType),
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'address',
      groupId: null,
      column: CoLumn.LEFT,
      order: 3,
      required: false,
      type: FieldType.TEXT,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
      maxLength: 100,
      minLength: 0,
    },
    {
      name: 'description',
      groupId: null,
      column: CoLumn.LEFT,
      order: 4,
      required: false,
      type: FieldType.MULTILINE_TEXT,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
      maxLength: 300,
      minLength: 0,
    },
    {
      name: 'tasks',
      groupId: null,
      column: CoLumn.LEFT,
      order: 5,
      required: false,
      type: FieldType.RELATION,
      relateTo: 'task',
      relateType: RelateType.MULTIPLE,
      visibility: {},
    },
  ],
}

export const contact: Pick<Module, 'name' | 'meta'> = {
  name: ModuleName.CONTACT,
  meta: [
    {
      name: 'ownerId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 0,
      required: true,
      type: FieldType.RELATION,
      relateType: RelateType.SINGLE,
      relateTo: 'user',
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'phone',
      groupId: null,
      column: CoLumn.LEFT,
      order: 1,
      required: true,
      type: FieldType.PHONE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'email',
      groupId: null,
      column: CoLumn.LEFT,
      order: 2,
      required: true,
      type: FieldType.EMAIL,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'source',
      groupId: null,
      column: CoLumn.LEFT,
      order: 3,
      required: true,
      type: FieldType.SELECT,
      options: Object.values(LeadSource),
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'accountId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 4,
      required: false,
      type: FieldType.RELATION,
      relateTo: 'account',
      relateType: RelateType.SINGLE,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'address',
      groupId: null,
      column: CoLumn.LEFT,
      order: 5,
      required: false,
      type: FieldType.MULTILINE_TEXT,
      visibility: {
        Create: true,
        Update: true,
        Detail: true,
      },
    },
    {
      name: 'description',
      groupId: null,
      column: CoLumn.LEFT,
      order: 6,
      required: false,
      type: FieldType.MULTILINE_TEXT,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'tasks',
      groupId: null,
      column: CoLumn.LEFT,
      order: 7,
      required: false,
      type: FieldType.RELATION,
      relateTo: 'task',
      relateType: RelateType.MULTIPLE,
      visibility: {},
    },
  ],
}

export const lead: Pick<Module, 'name' | 'meta'> = {
  name: ModuleName.LEAD,
  meta: [
    {
      name: 'ownerId',
      groupId: null,
      column: CoLumn.LEFT,
      order: 0,
      required: true,
      type: FieldType.RELATION,
      relateTo: 'user',
      relateType: RelateType.SINGLE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'phone',
      groupId: null,
      column: CoLumn.LEFT,
      order: 1,
      required: true,
      type: FieldType.PHONE,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'status',
      groupId: null,
      column: CoLumn.LEFT,
      order: 2,
      required: true,
      type: FieldType.SELECT,
      options: Object.values(LeadStatus),
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'email',
      groupId: null,
      column: CoLumn.LEFT,
      order: 3,
      required: true,
      type: FieldType.EMAIL,
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },
    {
      name: 'source',
      groupId: null,
      column: CoLumn.LEFT,
      order: 4,
      required: true,
      type: FieldType.SELECT,
      options: Object.values(LeadSource),
      visibility: {
        Overview: true,
        Update: true,
        Create: true,
        Detail: true,
      },
    },

    {
      name: 'address',
      groupId: null,
      column: CoLumn.LEFT,
      order: 5,
      required: false,
      type: FieldType.TEXT,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
      maxLength: 100,
      minLength: 0,
    },

    {
      name: 'description',
      groupId: null,
      column: CoLumn.LEFT,
      order: 6,
      required: false,
      type: FieldType.MULTILINE_TEXT,
      visibility: {
        Update: true,
        Create: true,
        Detail: true,
      },
      maxLength: 300,
    },
    {
      name: 'tasks',
      groupId: null,
      column: CoLumn.LEFT,
      order: 7,
      required: false,
      type: FieldType.RELATION,
      relateTo: 'task',
      relateType: RelateType.MULTIPLE,
      visibility: {},
    },
  ],
}

export const deal_section: Pick<Section, 'name' | 'moduleId' | 'order'> = {
  name: 'Deal Information',
  moduleId: null,
  order: 0,
}

export const account_section: Pick<Section, 'name' | 'moduleId' | 'order'> = {
  name: 'Account Information',
  moduleId: null,
  order: 0,
}

export const contact_section: Pick<Section, 'name' | 'moduleId' | 'order'> = {
  name: 'Contact Information',
  moduleId: null,
  order: 0,
}

export const lead_section: Pick<Section, 'name' | 'moduleId' | 'order'> = {
  name: 'Lead Information',
  moduleId: null,
  order: 0,
}
